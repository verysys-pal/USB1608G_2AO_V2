#!../../bin/linux-x86_64/USB1608G_2AO_V2
< envPaths
epicsEnvSet("IOC","iocUSB1608G_2AO_V2")
epicsEnvSet("TOP","/usr/local/epics/EPICS_R7.0/siteApp/USB1608G_2AO_V2")
epicsEnvSet("EPICS_BASE","/usr/local/epics/EPICS_R7.0/base")
epicsEnvSet("SUPPORT","/usr/local/epics/EPICS_R7.0/modules/synApps/support")
epicsEnvSet("ASYN","/usr/local/epics/EPICS_R7.0/modules/synApps/support/asyn-R4-44-2")
epicsEnvSet("CALC","/usr/local/epics/EPICS_R7.0/modules/synApps/support/calc-R3-7-5")
epicsEnvSet("SCALER","/usr/local/epics/EPICS_R7.0/modules/synApps/support/scaler-4-1")
epicsEnvSet("MCA","/usr/local/epics/EPICS_R7.0/modules/synApps/support/mca-R7-10")
epicsEnvSet("BUSY","/usr/local/epics/EPICS_R7.0/modules/synApps/support/busy-R1-7-4")
epicsEnvSet("SSCAN","/usr/local/epics/EPICS_R7.0/modules/synApps/support/sscan-R2-11-6")
epicsEnvSet("AUTOSAVE","/usr/local/epics/EPICS_R7.0/modules/synApps/support/autosave-R5-11")
epicsEnvSet("SNCSEQ","/usr/local/epics/EPICS_R7.0/modules/synApps/support/sequencer-mirror-R2-2-9")
epicsEnvSet("MEASCOMP","/usr/local/epics/EPICS_R7.0/modules/synApps/support/measComp-R4-2")
## Register all support components
dbLoadDatabase("/usr/local/epics/EPICS_R7.0/siteApp/USB1608G_2AO_V2/dbd/USB1608G_2AO_V2.dbd")
USB1608G_2AO_V2_registerRecordDeviceDriver(pdbbase)
ThresholdLogicRegister: IOC 쉘 명령어 등록 완료
  - ThresholdLogicConfig: 임계값 로직 컨트롤러 생성
  - ThresholdLogicHelp: 사용법 도움말 표시
도움말을 보려면 'ThresholdLogicHelp'를 입력하세요.
## Environment variable setup
epicsEnvSet("PREFIX", "USB1608G_2AO:")
epicsEnvSet("PORT", "USB1608G_2AO_PORT")
epicsEnvSet("WDIG_POINTS", "1048576")
epicsEnvSet("WGEN_POINTS", "1048576")
epicsEnvSet("UNIQUE_ID", "01D97CFA")
## Configure port driver
MultiFunctionConfig("USB1608G_2AO_PORT", "01D97CFA", 1048576, 1048576)
## Configure threshold logic controller
epicsEnvSet("THRESHOLD_PORT", "THRESHOLD_LOGIC_PORT")
ThresholdLogicConfig("THRESHOLD_LOGIC_PORT", "USB1608G_2AO_PORT", 0)
[2025-08-30 15:17:31.899114] [경고] validateConfigurationWithErrorHandler: 히스테리시스가 임계값보다 큽니다
[2025-08-30 15:17:31.899126] [정보] validateConfigurationWithErrorHandler: 히스테리시스를 임계값 절댓값보다 작게 설정하세요
[2025-08-30 15:17:31.899129] [정보] ThresholdLogicController: 포트=THRESHOLD_LOGIC_PORT, 장치포트=USB1608G_2AO_PORT, 주소=0로 ThresholdLogicController 생성됨
ThresholdLogicConfig: 성공적으로 생성됨 - 포트: THRESHOLD_LOGIC_PORT, 장치포트: USB1608G_2AO_PORT, 주소: 0
## Load database templates
dbLoadTemplate("/usr/local/epics/EPICS_R7.0/siteApp/USB1608G_2AO_V2/USB1608G_2AO_V2App/Db/USB1608G_2AO.substitutions", "P=USB1608G_2AO:,PORT=USB1608G_2AO_PORT,WDIG_POINTS=1048576,WGEN_POINTS=1048576")
## Load save/restore configuration
< save_restore.cmd
# Debug-output level
save_restoreSet_Debug(0)
# Ok to save/restore save sets with missing values (no CA connection to PV)?
save_restoreSet_IncompleteSetsOk(1)
# Save dated backup files?
save_restoreSet_DatedBackupFiles(1)
# Number of sequenced backup files to write
save_restoreSet_NumSeqFiles(3)
# Time interval between sequenced backups
save_restoreSet_SeqPeriodInSeconds(300)
# specify where save files should be
set_savefile_path(".", "autosave")
# specify what save files should be restored.  Note these files must be
# in the directory specified in set_savefile_path(), or, if that function
# has not been called, from the directory current when iocInit is invoked0
set_pass0_restoreFile("auto_settings.sav")
set_pass1_restoreFile("auto_settings.sav")
# specify directories in which to to search for included request files
# Note cdCommands defines 'startup', but envPaths does not
set_requestfile_path(".",         "")
set_requestfile_path(".",         "autosave")
set_requestfile_path(/usr/local/epics/EPICS_R7.0/modules/synApps/support/autosave-R5-11, "db")
set_requestfile_path(/usr/local/epics/EPICS_R7.0/modules/synApps/support/calc-R3-7-5,     "db")
set_requestfile_path(/usr/local/epics/EPICS_R7.0/modules/synApps/support/scaler-4-1,   "db")
set_requestfile_path(/usr/local/epics/EPICS_R7.0/modules/synApps/support/sscan-R2-11-6,    "db")
set_requestfile_path(/usr/local/epics/EPICS_R7.0/modules/synApps/support/measComp-R4-2, "db")
## Initialize IOC
iocInit
############################################################################
## EPICS R7.0.7
## Rev. 2025-08-12T12:26+0900
## Rev. Date build date/time: 
############################################################################
save_restore: **********************************

USB1608G_2AO:ThresholdLogic1Threshold devAsynFloat64::initCommon drvUserCreate 
USB1608G_2AO:ThresholdLogic1Hysteresis devAsynFloat64::initCommon drvUserCreate 
USB1608G_2AO:ThresholdLogic1UpdateRate devAsynFloat64::initCommon drvUserCreate 
USB1608G_2AO:ThresholdLogic2Threshold devAsynFloat64::initCommon drvUserCreate 
USB1608G_2AO:ThresholdLogic2Hysteresis devAsynFloat64::initCommon drvUserCreate 
USB1608G_2AO:ThresholdLogic2UpdateRate devAsynFloat64::initCommon drvUserCreate 
USB1608G_2AO:ThresholdLogic3Threshold devAsynFloat64::initCommon drvUserCreate 
USB1608G_2AO:ThresholdLogic3Hysteresis devAsynFloat64::initCommon drvUserCreate 
USB1608G_2AO:ThresholdLogic3UpdateRate devAsynFloat64::initCommon drvUserCreate 
USB1608G_2AO:ThresholdLogic4Threshold devAsynFloat64::initCommon drvUserCreate 
USB1608G_2AO:ThresholdLogic4Hysteresis devAsynFloat64::initCommon drvUserCreate 
USB1608G_2AO:ThresholdLogic4UpdateRate devAsynFloat64::initCommon drvUserCreate 
USB1608G_2AO:ThresholdLogic1AlarmState devAsynInt32::initCommon drvUserCreate 
USB1608G_2AO:ThresholdLogic2AlarmState devAsynInt32::initCommon drvUserCreate 
USB1608G_2AO:ThresholdLogic3AlarmState devAsynInt32::initCommon drvUserCreate 
USB1608G_2AO:ThresholdLogic4AlarmState devAsynInt32::initCommon drvUserCreate 
USB1608G_2AO:ThresholdLogic1Enable devAsynInt32::initCommon drvUserCreate 
USB1608G_2AO:ThresholdLogic1Reset devAsynInt32::initCommon drvUserCreate 
USB1608G_2AO:ThresholdLogic2Enable devAsynInt32::initCommon drvUserCreate 
USB1608G_2AO:ThresholdLogic2Reset devAsynInt32::initCommon drvUserCreate 
USB1608G_2AO:ThresholdLogic3Enable devAsynInt32::initCommon drvUserCreate 
USB1608G_2AO:ThresholdLogic3Reset devAsynInt32::initCommon drvUserCreate 
USB1608G_2AO:ThresholdLogic4Enable devAsynInt32::initCommon drvUserCreate 
USB1608G_2AO:ThresholdLogic4Reset devAsynInt32::initCommon drvUserCreate 
USB1608G_2AO:ThresholdLogic1TriggerCount devAsynInt32::initCommon drvUserCreate 
USB1608G_2AO:ThresholdLogic2TriggerCount devAsynInt32::initCommon drvUserCreate 
USB1608G_2AO:ThresholdLogic3TriggerCount devAsynInt32::initCommon drvUserCreate 
USB1608G_2AO:ThresholdLogic4TriggerCount devAsynInt32::initCommon drvUserCreate 
USB1608G_2AO:ThresholdLogic1Status devAsynInt32::initCommon drvUserCreate 
USB1608G_2AO:ThresholdLogic2Status devAsynInt32::initCommon drvUserCreate 
USB1608G_2AO:ThresholdLogic3Status devAsynInt32::initCommon drvUserCreate 
USB1608G_2AO:ThresholdLogic4Status devAsynInt32::initCommon drvUserCreate 
USB1608G_2AO:ThresholdLogic1LastUpdate devAsynOctet::initDrvUser drvUserCreate failed 
USB1608G_2AO:ThresholdLogic2LastUpdate devAsynOctet::initDrvUser drvUserCreate failed 
USB1608G_2AO:ThresholdLogic3LastUpdate devAsynOctet::initDrvUser drvUserCreate failed 
USB1608G_2AO:ThresholdLogic4LastUpdate devAsynOctet::initDrvUser drvUserCreate failed 
save_restore: **********************************

## Setup autosave monitoring
create_monitor_set("auto_settings.req",30,"P=USB1608G_2AO:")
save_restore: connect failed for channel 'file'
save_restore: connect failed for channel 'file'
auto_settings.sav: 0 of 2 PV's connected
[?2004hepics> 
[?2004l[?2004hepics> 
[?2004l[?2004hepics> 
[?2004l[?2004hepics> dbl
[?2004lUSB1608G_2AO:PollTimeMS
USB1608G_2AO:PulseGen1Period_RBV
USB1608G_2AO:PulseGen1DutyCycle_RBV
USB1608G_2AO:PulseGen1Delay_RBV
USB1608G_2AO:Ai1
USB1608G_2AO:Ai2
USB1608G_2AO:Ai3
USB1608G_2AO:Ai4
USB1608G_2AO:Ai5
USB1608G_2AO:Ai6
USB1608G_2AO:Ai7
USB1608G_2AO:Ai8
USB1608G_2AO:WaveDigDwellActual
USB1608G_2AO:WaveDigTotalTime
USB1608G_2AO:WaveGenFrequency
USB1608G_2AO:WaveGenDwell
USB1608G_2AO:WaveGenDwellActual
USB1608G_2AO:WaveGenTotalTime
USB1608G_2AO:ThresholdLogic1CurrentValue
USB1608G_2AO:ThresholdLogic2CurrentValue
USB1608G_2AO:ThresholdLogic3CurrentValue
USB1608G_2AO:ThresholdLogic4CurrentValue
USB1608G_2AO:PollSleepMS
USB1608G_2AO:PulseGen1Period
USB1608G_2AO:PulseGen1Frequency
USB1608G_2AO:PulseGen1DutyCycle
USB1608G_2AO:PulseGen1Width
USB1608G_2AO:PulseGen1Delay
USB1608G_2AO:Ai1Rate
USB1608G_2AO:Ai2Rate
USB1608G_2AO:Ai3Rate
USB1608G_2AO:Ai4Rate
USB1608G_2AO:Ai5Rate
USB1608G_2AO:Ai6Rate
USB1608G_2AO:Ai7Rate
USB1608G_2AO:Ai8Rate
USB1608G_2AO:WaveDigDwell
USB1608G_2AO:Ao1
USB1608G_2AO:Ao1Return
USB1608G_2AO:Ao1TweakVal
USB1608G_2AO:Ao2
USB1608G_2AO:Ao2Return
USB1608G_2AO:Ao2TweakVal
USB1608G_2AO:WaveGenIntDwell
USB1608G_2AO:WaveGenIntFrequency
USB1608G_2AO:WaveGenUserDwell
USB1608G_2AO:WaveGenUserFrequency
USB1608G_2AO:WaveGen1PulseWidth
USB1608G_2AO:WaveGen1Amplitude
USB1608G_2AO:WaveGen1Offset
USB1608G_2AO:WaveGen2PulseWidth
USB1608G_2AO:WaveGen2Amplitude
USB1608G_2AO:WaveGen2Offset
USB1608G_2AO:ThresholdLogic1Threshold
USB1608G_2AO:ThresholdLogic1Hysteresis
USB1608G_2AO:ThresholdLogic1UpdateRate
USB1608G_2AO:ThresholdLogic2Threshold
USB1608G_2AO:ThresholdLogic2Hysteresis
USB1608G_2AO:ThresholdLogic2UpdateRate
USB1608G_2AO:ThresholdLogic3Threshold
USB1608G_2AO:ThresholdLogic3Hysteresis
USB1608G_2AO:ThresholdLogic3UpdateRate
USB1608G_2AO:ThresholdLogic4Threshold
USB1608G_2AO:ThresholdLogic4Hysteresis
USB1608G_2AO:ThresholdLogic4UpdateRate
USB1608G_2AO:Bi1
USB1608G_2AO:Bi2
USB1608G_2AO:Bi3
USB1608G_2AO:Bi4
USB1608G_2AO:Bi5
USB1608G_2AO:Bi6
USB1608G_2AO:Bi7
USB1608G_2AO:Bi8
USB1608G_2AO:Bo1_RBV
USB1608G_2AO:Bo2_RBV
USB1608G_2AO:Bo3_RBV
USB1608G_2AO:Bo4_RBV
USB1608G_2AO:Bo5_RBV
USB1608G_2AO:Bo6_RBV
USB1608G_2AO:Bo7_RBV
USB1608G_2AO:Bo8_RBV
USB1608G_2AO:ThresholdLogic1OutputState
USB1608G_2AO:ThresholdLogic1AlarmState
USB1608G_2AO:ThresholdLogic2OutputState
USB1608G_2AO:ThresholdLogic2AlarmState
USB1608G_2AO:ThresholdLogic3OutputState
USB1608G_2AO:ThresholdLogic3AlarmState
USB1608G_2AO:ThresholdLogic4OutputState
USB1608G_2AO:ThresholdLogic4AlarmState
USB1608G_2AO:Bo1
USB1608G_2AO:Bo2
USB1608G_2AO:Bo3
USB1608G_2AO:Bo4
USB1608G_2AO:Bo5
USB1608G_2AO:Bo6
USB1608G_2AO:Bo7
USB1608G_2AO:Bo8
USB1608G_2AO:Bd1
USB1608G_2AO:Bd2
USB1608G_2AO:Bd3
USB1608G_2AO:Bd4
USB1608G_2AO:Bd5
USB1608G_2AO:Bd6
USB1608G_2AO:Bd7
USB1608G_2AO:Bd8
USB1608G_2AO:PulseGen1Run
USB1608G_2AO:PulseGen1IdleState
USB1608G_2AO:Counter1Reset
USB1608G_2AO:Counter2Reset
USB1608G_2AO:WaveDigExtTrigger
USB1608G_2AO:WaveDigExtClock
USB1608G_2AO:WaveDigContinuous
USB1608G_2AO:WaveDigAutoRestart
USB1608G_2AO:WaveDigRetrigger
USB1608G_2AO:WaveDigBurstMode
USB1608G_2AO:Ao1Pulse
USB1608G_2AO:Ao2Pulse
USB1608G_2AO:WaveGenExtTrigger
USB1608G_2AO:WaveGenExtClock
USB1608G_2AO:WaveGenContinuous
USB1608G_2AO:WaveGenRetrigger
USB1608G_2AO:WaveGen1Enable
USB1608G_2AO:WaveGen2Enable
USB1608G_2AO:ThresholdLogic1Enable
USB1608G_2AO:ThresholdLogic1Reset
USB1608G_2AO:ThresholdLogic2Enable
USB1608G_2AO:ThresholdLogic2Reset
USB1608G_2AO:ThresholdLogic3Enable
USB1608G_2AO:ThresholdLogic3Reset
USB1608G_2AO:ThresholdLogic4Enable
USB1608G_2AO:ThresholdLogic4Reset
USB1608G_2AO:WaveDigRun
USB1608G_2AO:WaveDigReadWF
USB1608G_2AO:WaveGenRun
USB1608G_2AO:PulseGen1Frequency_RBV
USB1608G_2AO:PulseGen1Width_RBV
USB1608G_2AO:PulseGen1CalcFrequency
USB1608G_2AO:PulseGen1CalcPeriod
USB1608G_2AO:PulseGen1CalcWidth
USB1608G_2AO:PulseGen1CalcDutyCycle
USB1608G_2AO:Ao1TweakUp
USB1608G_2AO:Ao1TweakDown
USB1608G_2AO:Ao2TweakUp
USB1608G_2AO:Ao2TweakDown
USB1608G_2AO:WaveGenCalcIntFrequency
USB1608G_2AO:WaveGenCalcIntDwell
USB1608G_2AO:WaveGenCalcUserFrequency
USB1608G_2AO:WaveGenCalcUserDwell
USB1608G_2AO:ThresholdLogic1Compare
USB1608G_2AO:ThresholdLogic2Compare
USB1608G_2AO:ThresholdLogic3Compare
USB1608G_2AO:ThresholdLogic4Compare
USB1608G_2AO:ModelNumber
USB1608G_2AO:Li
USB1608G_2AO:Lo_RBV
USB1608G_2AO:Counter1Counts
USB1608G_2AO:Counter2Counts
USB1608G_2AO:WaveDigCurrentPoint
USB1608G_2AO:WaveGenNumPoints
USB1608G_2AO:WaveGenCurrentPoint
USB1608G_2AO:ThresholdLogic1TriggerCount
USB1608G_2AO:ThresholdLogic2TriggerCount
USB1608G_2AO:ThresholdLogic3TriggerCount
USB1608G_2AO:ThresholdLogic4TriggerCount
USB1608G_2AO:Lo
USB1608G_2AO:PulseGen1Count
USB1608G_2AO:WaveDigNumPoints
USB1608G_2AO:WaveDigTriggerCount
USB1608G_2AO:WaveGenUserNumPoints
USB1608G_2AO:WaveGenIntNumPoints
USB1608G_2AO:WaveGenTriggerCount
USB1608G_2AO:ThresholdLogic1Status
USB1608G_2AO:ThresholdLogic2Status
USB1608G_2AO:ThresholdLogic3Status
USB1608G_2AO:ThresholdLogic4Status
USB1608G_2AO:AiMode
USB1608G_2AO:Ai1Range
USB1608G_2AO:Ai1Type
USB1608G_2AO:Ai2Range
USB1608G_2AO:Ai2Type
USB1608G_2AO:Ai3Range
USB1608G_2AO:Ai3Type
USB1608G_2AO:Ai4Range
USB1608G_2AO:Ai4Type
USB1608G_2AO:Ai5Range
USB1608G_2AO:Ai5Type
USB1608G_2AO:Ai6Range
USB1608G_2AO:Ai6Type
USB1608G_2AO:Ai7Range
USB1608G_2AO:Ai7Type
USB1608G_2AO:Ai8Range
USB1608G_2AO:Ai8Type
USB1608G_2AO:WaveDigFirstChan
USB1608G_2AO:WaveDigNumChans
USB1608G_2AO:Ao1Range
USB1608G_2AO:Ao2Range
USB1608G_2AO:WaveGen1Type
USB1608G_2AO:WaveGen2Type
USB1608G_2AO:TrigMode
USB1608G_2AO:ModelName
USB1608G_2AO:FirmwareVersion
USB1608G_2AO:UniqueID
USB1608G_2AO:ULVersion
USB1608G_2AO:DriverVersion
USB1608G_2AO:ThresholdLogic1LastUpdate
USB1608G_2AO:ThresholdLogic2LastUpdate
USB1608G_2AO:ThresholdLogic3LastUpdate
USB1608G_2AO:ThresholdLogic4LastUpdate
USB1608G_2AO:LastErrorMessage
USB1608G_2AO:WaveDigTimeWF
USB1608G_2AO:WaveDigAbsTimeWF
USB1608G_2AO:WaveDig1VoltWF
USB1608G_2AO:WaveDig2VoltWF
USB1608G_2AO:WaveDig3VoltWF
USB1608G_2AO:WaveDig4VoltWF
USB1608G_2AO:WaveDig5VoltWF
USB1608G_2AO:WaveDig6VoltWF
USB1608G_2AO:WaveDig7VoltWF
USB1608G_2AO:WaveDig8VoltWF
USB1608G_2AO:WaveGenUserTimeWF
USB1608G_2AO:WaveGenIntTimeWF
USB1608G_2AO:WaveGen1UserWF
USB1608G_2AO:WaveGen1InternalWF
USB1608G_2AO:WaveGen2UserWF
USB1608G_2AO:WaveGen2InternalWF
[?2004hepics> 
[?2004l[?2004hepics> 
[?2004l[?2004hepics> 
[?2004l[?2004hepics> save_restore:write_save_file: Backup file (./autosave/auto_settings.savB) bad or not found.  Writing a new one. [250830-151833]
[Kepics> [Kepics> [Kepics> [?2004l